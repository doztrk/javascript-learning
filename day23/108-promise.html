<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise</title>
  </head>
  <body>
    <h2>Promise</h2>

    <button id="btnPromise">Click</button>
    <div id="result"></div>

    <script>
      const getUser = () => {
        //Assuming the data is coming from outside
        return new Promise((resolve, reject) => {
          let user = { firstName: "Ayşe", lastName: "Çelik", age: 25 };

          setTimeout(() => {
            if (user) {
              resolve(user);
            } else {
              reject("User is empty");
            }
          }, 1000);
        });
      };

      btnPromise.addEventListener("click", () => {
        getUser()
          .then((data) => {
            result.innerHTML =
              data.firstName + " " + data.lastName + " " + data.age;
          })
          .catch((err) => {
            alert(err);
          });
      });

      // After the execution of getUser which returns promise, then is used to get the data.
      //The value of resolve is passed to the parameter of then() function
      //If there is an error, the value of reject is passed to the parameter of catch() function
    </script>
  </body>
</html>
